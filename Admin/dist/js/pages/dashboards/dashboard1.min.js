$(function() {
    c3.generate({
        bindto: "#campaign-v2",
        data: {
            columns: [
                ["Direct Sales", 25],
                ["Referral Sales", 15],
                ["Affiliate Sales", 10],
                ["Indirect Sales", 15]
            ],
            type: "donut",
            tooltip: { show: true }
        },
        donut: {
            label: { show: false },
            title: "Sales",
            width: 18
        },
        legend: { hide: true },
        color: { pattern: ["#edf2f6", "#5f76e8", "#ff4f70", "#01caf1"] }
    });

    d3.select("#campaign-v2 .c3-chart-arcs-title").style("font-family", "Rubik");

    var e = {
        axisX: { showGrid: false },
        seriesBarDistance: 1,
        chartPadding: { top: 15, right: 15, bottom: 5, left: 0 },
        plugins: [Chartist.plugins.tooltip()],
        width: "100%"
    };

    new Chartist.Bar(
        ".net-income",
        {
            labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
            series: [[9, 4, 3, 7, 5, 10]]
        },
        e,
        [["screen and (max-width: 640px)", {
            seriesBarDistance: 5,
            axisX: {
                labelInterpolationFnc: function(e) {
                    return e[0];
                }
            }
        }]]
    );

    new Chartist.Line(
        ".stats",
        {
            labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
            series: [[11, 10, 15, 21, 14, 23, 20]]
        },
        {
            low: 0,
            high: 28,
            showArea: true,
            fullWidth: true,
            plugins: [Chartist.plugins.tooltip()],
            axisY: {
                onlyInteger: true,
                scaleMinSpace: 40,
                offset: 20,
                labelInterpolationFnc: function(e) {
                    return +e + "k";
                }
            }
        }
    );

    t.on("draw", function(e) {
        if (e.type === "area") {
            e.element.attr({ x1: e.x1 + 0.001 });
        }
    });

    t.on("created", function(e) {
        e.svg
            .elem("defs")
            .elem("linearGradient", { id: "gradient", x1: 0, y1: 1, x2: 0, y2: 0 })
            .elem("stop", { offset: 0, "stop-color": "rgba(255, 255, 255, 1)" })
            .parent()
            .elem("stop", { offset: 1, "stop-color": "rgba(80, 153, 255, 1)" });
    });

    $(window).on("resize", function() {
        t.update();
    });
});
